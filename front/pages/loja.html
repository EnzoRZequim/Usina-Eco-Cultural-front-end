<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Loja</title>
  <link rel="stylesheet" href="../styles/styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.6.0/uicons-bold-rounded/css/uicons-bold-rounded.css'>
  <script src="/backend/loja.js"></script>
</head>

<body onload="BuscarItem()">
  <div id="navbar"></div>

  <div class="m-5 pt-5">
    <div class="pt-5">
      <div class="pt-5 d-flex justify-content-center">
        <div class="left p-5 ps-5" style="max-width: 600px;">
          <h1>Qual a finalidade dos nossos produtos?</h1>
          <p class="text-wrap">Nós vendemos alguns produtos frequentemente usados no seu dia a dia, focando em tornar o
            uso deles mais sustentável e também para arrecadar o dinheiro necessário para a manutenção do nosso espaço,
            realização de eventos sociais e entre outros custos da Usina.
          </p>
        </div>
        <div class="right p-5 d-none d-lg-block">
          <img src="../img/loja-img.png" alt="imagem de pessoas da usina" class="w-75">
        </div>
      </div>
    </div>
  
    <div id="conteudo-loja" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4"></div> <!-- Alinhamento correto dos itens -->
  </div>
  
  <script>
  function BuscarItem(){
      axios.get('http://localhost:3000/loja')
      .then(resposta => {
          const data = resposta.data;
          const container = document.getElementById('conteudo-loja');

          // Limpar container
          container.innerHTML = '';

          data.forEach(item => {
              // Criar div
              const div = document.createElement('div');
              div.classList.add('col'); // Responsivo

              // Adicionar HTML
              div.innerHTML = `
              <div class="card">
                <img src="${item.imagem}" class="card-img-top" alt="${item.nome}">
                <div class="card-body">
                  <h5 class="card-title">${item.nome}</h5>
                  <p class="card-text">R$ ${item.preco}</p>
                  <button class="btn btn-success" onclick="adicionarAoCarrinho('${item.nome}', ${item.preco})">Adicionar ao Carrinho</button>
                </div>
              </div>
              `;

              // Adicionar a div ao container principal
              container.appendChild(div);
          });
      })
      .catch(erro => console.log(erro));
  }
  </script>

  <script src="../components/navbar.js"></script>
  <script>
    const navbarElement = document.getElementById("navbar");
    new Navbar(navbarElement);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="/front/frontend.js"></script>
</body>

</html>
